{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * @date          Invalid Date\n * Copyright © YourCompanyName All rights reserved\n */\nimport echarts, { EChartsType } from \"echarts\";\n\ntype BmChartConstrictor = {\n  dom: HTMLElement;\n};\n\nclass BmChart {\n  /** 挂载节点 */\n  private dom: HTMLElement | null = null;\n  private charts: EChartsType | null = null;\n\n  constructor(props: BmChartConstrictor) {\n    this.dom = props.dom;\n  }\n  /** 检查dom */\n  checkDom() {\n    return new Promise((resolve, reject) => {\n      if (this.dom) {\n        resolve(this);\n      } else {\n        reject(this);\n      }\n    });\n  }\n  /** 初始化 */\n  async init() {\n    if (this.dom !== null) {\n      this.charts = echarts.init(this.dom);\n    }\n  }\n  /** 重置 */\n  resize() {\n    if (!this.charts) {\n      console.log(\"error\");\n      return;\n    }\n    this.charts.resize({\n      width: \"auto\",\n      height: \"auto\",\n      animation: {\n        duration: 100,\n      },\n    });\n  }\n  /** 设置数据 */\n  async setData(data: Array<object>) {\n    if (!this.charts) {\n      console.log(\"error\");\n      return;\n    }\n    this.charts.setOption({\n      data: data,\n    });\n  }\n  /** 重新绘制 */\n  reRender() {\n    this.dispose()\n    this.init()\n  }\n  /** 销毁 */\n  async dispose() {\n    if (!this.charts) {\n      console.log(\"error\");\n      return;\n    }\n    this.charts.dispose();\n    this.charts = null;\n  }\n}\nexport default BmChart;\n"],"names":["dom","charts","constructor","props","this","checkDom","Promise","resolve","reject","async","echarts","init","resize","width","height","animation","duration","console","log","data","setOption","reRender","dispose"],"mappings":"uWAUA,MAEUA,IAA0B,KAC1BC,OAA6B,KAErCC,YAAYC,GACVC,KAAKJ,IAAMG,EAAMH,GAClB,CAEDK,WACE,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBJ,KAAKJ,IACPO,EAAQH,MAERI,EAAOJ,KACR,GAEJ,CAEDK,aACmB,OAAbL,KAAKJ,MACPI,KAAKH,OAASS,EAAO,QAACC,KAAKP,KAAKJ,KAEnC,CAEDY,SACOR,KAAKH,OAIVG,KAAKH,OAAOW,OAAO,CACjBC,MAAO,OACPC,OAAQ,OACRC,UAAW,CACTC,SAAU,OAPZC,QAAQC,IAAI,QAUf,CAEDT,cAAcU,GACPf,KAAKH,OAIVG,KAAKH,OAAOmB,UAAU,CACpBD,KAAMA,IAJNF,QAAQC,IAAI,QAMf,CAEDG,WACEjB,KAAKkB,UACLlB,KAAKO,MACN,CAEDF,gBACOL,KAAKH,QAIVG,KAAKH,OAAOqB,UACZlB,KAAKH,OAAS,MAJZgB,QAAQC,IAAI,QAKf"}